<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <title>Hello, world!</title>
    <style>
        #span_user_display,
        #span_cpu_display {
            font-size: 60px;
        }
        #output_div {
            font-size: 36px;
            /* text-align: center; */
        }
        body {
            text-align: center;
        }
    </style>
</head>

<body>



    <div class="container">
        <div class="row">
            <div class="col-sm">
                <h1>
                    Rock, Paper, Scissors
                </h1>
            </div>
        </div>
        <div class="row">

            <div class="col-sm">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio_user" id="rb_rock" value="rock" checked>
                    <label class="form-check-label" for="rb_rock">
                        Rock
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio_user" id="rb_paper" value="paper">
                    <label class="form-check-label" for="rb_paper">
                        Paper
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio_user" id="rb_scissors" value="scissors">
                    <label class="form-check-label" for="rb_scissors">
                        Scissors
                    </label>
                </div>
            </div>
            <div class="col-sm">
                <span id="span_user_display">✊✋✌</span>
            </div>
            <div class="col-sm">
                <span id="span_cpu_display">✊✋✌</span>
            </div>
            <div class="col-sm">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio_computer" id="rb_rock_cpu" value="rock"
                        disabled>
                    <label class="form-check-label" for="rb_rock">
                        Rock
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio_computer" id="rb_paper_cpu" value="paper"
                        disabled>
                    <label class="form-check-label" for="rb_paper">
                        Paper
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio_computer" id="rb_scissors_cpu"
                        value="scissors" disabled>
                    <label class="form-check-label" for="rb_scissors">
                        Scissors
                    </label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-3">
                <button id="bt_run" class="btn btn-primary">Run!</button>

            </div>
            <div class="col-6" id="output_div">

            </div>
            <div class="col-3">

            </div>
        </div>
    </div>













    <!-- Optional JavaScript -->
    <script>
        let bt_run = document.querySelector('#bt_run')
        let choices = ['rock', 'paper', 'scissors']
        let output_div = document.querySelector('#output_div')
        let span_user_display = document.querySelector('#span_user_display')
        let span_cpu_display = document.querySelector('#span_cpu_display')

        let emojis = {
            'rock': '✊',
            'paper': '✋',
            'scissors': '✌',
        }

        function randomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)]
        }

        function getSelectedRadioButtonValue(name) {

            let arr_radio = document.getElementsByName(name)

            for (let i = 0; i < arr_radio.length; ++i) {
                if (arr_radio[i].checked) {
                    return arr_radio[i].value
                }
            }
            return null
        }

        // get radio buttons by name
        // loop through them
        // find the one with the given value
        // set the selected attribute on that radio button
        function selectRadioButton(name, value) {
            let arr_radio = document.getElementsByName(name)
            for (let i = 0; i < arr_radio.length; ++i){
                arr_radio[i].removeAttribute('checked')
            }
            for (let i = 0; i < arr_radio.length; ++i) {
                if (arr_radio[i].value == value) {
                    arr_radio[i].setAttribute('checked', 'checked')
                }
            }
        }

        bt_run.addEventListener('click', function () {
            // alert('hello world')
            let user_choice = getSelectedRadioButtonValue('radio_user')
            let cpu_choice = randomElement(choices)
            span_user_display.innerText = emojis[user_choice]
            span_cpu_display.innerText = emojis[cpu_choice]
            selectRadioButton('radio_computer', cpu_choice)

            if (user_choice === cpu_choice) {
                output_div.innerText = 'You Tie...'
            } else if (user_choice === 'rock' && cpu_choice === 'scissors') {
                output_div.innerText = 'You Win!'
            } else if (user_choice === 'scissors' && cpu_choice === 'paper') {
                output_div.innerText = 'You Win!'
            } else if (user_choice === 'paper' && cpu_choice === 'rock') {
                output_div.innerText = 'You Win!'
            } else {
                output_div.innerText = 'You Lose!'
            }

        })



    </script>




    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>
</body>

</html>